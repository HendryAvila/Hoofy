# SDD-Hoffy Adaptive Pipeline — Proposal

> Generated by [SDD-Hoffy](https://github.com/HendryAvila/sdd-hoffy) | Stage 1: Propose

## Problem Statement

SDD-Hoffy currently only supports a 7-stage pipeline for bootstrapping NEW projects from scratch. But 90% of real development work is on EXISTING projects — adding features, fixing bugs, refactoring, enhancing. Developers need structured-but-lightweight planning workflows that adapt to the type and size of change, not a one-size-fits-all heavyweight pipeline.

## Target Users

- **Solo developers working on existing codebases** who want just enough structure to think before coding, without the overhead of a full project pipeline. They're adding features, squashing bugs, and refactoring daily.
- **AI-assisted developers** using MCP-powered coding agents who need the right amount of spec to prevent AI hallucinations — a small fix needs a sentence, a big feature needs a full spec. The adaptive pipeline gives the AI exactly the context it needs.
- **Tech leads and architects** who want architectural decisions (ADRs) captured automatically as part of their workflow, searchable across projects, not buried in forgotten docs.

## Proposed Solution

A new `sdd_change` entry point that accepts a change type (feature, fix, refactor, enhancement) and auto-selects the right pipeline stages based on type and size. Small fixes get a 3-step flow (describe → tasks → verify), large features get nearly the full pipeline. ADRs are a first-class, transversal concept — any change at any point can capture an architectural decision, persisted to memory with topic_key upserts for easy retrieval and evolution. The existing `sdd_init_project` pipeline remains untouched for greenfield projects.

## Out of Scope

- Will NOT replace or modify the existing 7-stage `sdd_init_project` pipeline — it stays as-is for new projects
- Will NOT add project management features (sprints, velocity, team assignments)
- Will NOT support multiple concurrent changes in the same project directory (one active change at a time)
- Will NOT add a web UI or dashboard — this is a CLI/MCP tool
- Will NOT implement automatic size detection from code analysis in v1 — size is user-declared or inferred from description length

## Success Criteria

- A developer can go from "I need to fix this bug" to a structured task list in under 60 seconds for small changes
- Large features produce spec-quality artifacts comparable to the full pipeline but scoped to the feature, not the whole project
- ADRs captured during any change are searchable via `mem_search` and automatically linked to the change context
- The existing pipeline and all 14 memory tools continue working with zero regressions

## Open Questions

- Should `sdd_change` live in the same `sdd/` directory as the project pipeline, or in a separate `sdd/changes/` subdirectory?
- Should completed changes auto-archive, or require explicit archival?
- Should we add an `sdd_adr` standalone tool, or always capture ADRs through the change flow?
